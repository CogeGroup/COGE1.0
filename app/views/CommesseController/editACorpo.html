#{extends 'menu.html' /}
#{set title:'Modifica commessa a Corpo'/}

<!-- CSS -->
#{stylesheet id:'jquery-css',media:'screen',src:'jquery-ui-1.8.14.custom.css'  /}
#{stylesheet id:'cupertino-css',media:'screen',src:'cupertino/jquery-ui-1.7.2.custom.css'  /}
<!-- JavaScript-->
#{script id:'jquery' , src:'jquery-1.5.2.min.js', charset:'utf-8' /}
#{script id:'jquery-ui' , src:'jquery-ui-1.8.14.custom.min.js', charset:'utf-8' /}
#{script id:'datepicker' , src:'jquery.ui.datepicker.js', charset:'utf-8' /}
#{script id:'datepicker-it' , src:'ui.datepicker-it.js', charset:'utf-8' /}
<script type="text/javascript">
	$(function() {
    	$.datepicker.setDefaults($.datepicker.regional['it']);
		$('#datepicker1').datepicker({
			changeMonth: true,
			changeYear: true,
			yearRange:'-59:+50'
		});
	});
</script>

<h2>Modifica commessa a Corpo</h2>
<div id="edit">
#{form @CommesseController.updateACorpo()}
	
	#{ifErrors}
        <p class="error">
			${errors[0]}
		</p>
    #{/ifErrors}
  <ul> 
	<li>
        <label for="codice">Codice commessa:</label>
        <input type="text" class="txt_m" id="codice" name="commessaACorpo.codice" value="${commessaACorpo.codice }"/>
    </li>
    <li>
        <label for="descrizione">Descrizione:</label>
        <input type="text" class="txt_m" id="descrizione" name="commessaACorpo.descrizione" value="${commessaACorpo.descrizione }" />
    </li>
    <li>
        <label for=dataInizioCommessa>Data inizio:</label>
        <input type="text" class="txt_date" id="datepicker1" name="commessaACorpo.dataInizioCommessa" value="${commessaACorpo.dataInizioCommessa?.format('dd-MM-yyyy') }"/>
    </li>
    <li>
        <label for=importo>Importo:</label>
        <input type="text" class="txt_s" id="importo" name="commessaACorpo.importo" value="${commessaACorpo.importo }"/>
    </li>
    #{if listaClienti.size() > 0}
    <li>
    	<label for="cliente">Cliente: </label>
    	<select name="idCliente">
    		#{list items:listaClienti, as:'cliente'}
		        <option value="${cliente.idCliente }" 
		        	#{if cliente.idCliente == commessaACorpo.cliente.idCliente }
		        		selected="selected"
		        	#{/if} >${cliente.nominativo }</option>
		    #{/list} 
    	</select>
    </li>
    #{/if}
  </ul>
</div>
	<div id="button_center">
	
		<input type="hidden" name="commessaACorpo.idCommessa" value="${commessaACorpo.idCommessa }" />
        <input type="submit" class="submitbutton" value="Salva" />
   
    
#{/form}
<a href="@{CommesseController.index()}"><input type="button" class="submitbutton" value="Indietro" /></a>
</div>