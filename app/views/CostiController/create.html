#{extends 'main.html' /}
#{set title:'Aggiungi nuovo costo' /}

#{stylesheet id:'jquery-css',media:'screen',src:'cupertino/jquery-ui-1.7.2.custom.css'  /}

#{script id:'jquery',src:'jquery-1.5.2.min.js', charset:'UTF-8' /}
#{script id:'jquery-ui',src:'jquery-ui-1.8.14.custom.min.js', charset:'UTF-8' /}
#{script id:'datepicker',src:'jquery.ui.datepicker.js', charset:'UTF-8' /}
#{script id:'datepicker-it',src:'ui.datepicker-it.js', charset:'UTF-8' /}


<script type="text/javascript">
		$(function() {
			var dates = $( "#dataInizio, #dataFine" ).datepicker({
				defaultDate: "+1w",
				changeMonth: true,
				numberOfMonths: 3,
				onSelect: function( selectedDate ) {
					var option = this.id == "dataInizio" ? "minDate" : "maxDate",
						instance = $( this ).data( "datepicker" ),
						date = $.datepicker.parseDate(
							instance.settings.dateFormat ||
							$.datepicker._defaults.dateFormat,
							selectedDate, instance.settings );
					dates.not( this ).datepicker( "option", option, date );
				}
			});
		});







	  		  $(function() {
	    		$.datepicker.setDefaults($.datepicker.regional['it']);
			   	  $('#datepicker2').datepicker({
					changeMonth: true,
					changeYear: true,
					yearRange:'-59:+50',
					 dateFormat: 'dd - MM - yy'
		
				});
	  		});
       </script>

<h1>Nuovo costo</h1>
#{form @CostiController.save()}
	
	#{ifErrors}
        <p class="error">
        	<ul>
			#{errors} 
				#{ifnot error.message == 'validation.object'}
					<li>${error}</li> 
				#{/ifnot}
			#{/errors}
			</ul>
		</p>
    #{/ifErrors}
	
	<p>
        <label for="importo">Importo: </label>
        <input type="text" id="importo" name="costo.importo" value="${costo?.importo}"/>
    </p>
    <p>
        <label for="dataInizio">Data Inizio: </label>
		<input type="text" id="dataInizio" name="costo.dataInizio" value="${costo?.dataInizio?.format('dd-MM-yyyy')}"/> 
    </p>
    <p>
        <label for="dataFine">Data Fine: </label>
        <input type="text" id="dataFine" name="costo.dataFine" value="${costo?.dataFine?.format('dd-MM-yyyy')}" />
    </p>
	<p>
		<input type="hidden" name="costo.risorsa.idRisorsa" value="${costo?.risorsa?.idRisorsa}">
        <input type="submit" value="Salva nuovo costo" />
    </p>
    
#{/form}
<a href="@{CostiController.index(costo?.risorsa?.idRisorsa)}">
	<input type="button" value="Annulla" /></a>